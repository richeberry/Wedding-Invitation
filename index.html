<html>
<head>
    <!-- 필수 메타태그: 확대 줌 막기 -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta charset="UTF-8">
  <title>진섭 & 송이 결혼합니다</title>
  <link rel="stylesheet" href="styles.css" />

    <!-- 폰트 로드 -->
    <link href="https://fonts.googleapis.com/css2?family=Grandiflora+One&family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

<script>
  // 핀치 줌, 다중 터치 차단
  document.addEventListener('touchstart', function(e) {
    if (e.touches.length > 1) {
      e.preventDefault();
    }
  }, { passive: false });

  // 더블탭 확대 방지 (iOS)
  let lastTouch = 0;
  document.addEventListener('touchend', function(e) {
    const now = new Date().getTime();
    if (now - lastTouch <= 300) {
      e.preventDefault();
    }
    lastTouch = now;
  }, { passive: false });

  // iOS 제스처 확대 방지
  document.addEventListener('gesturestart', function(e) {
    e.preventDefault();
  }, { passive: false });


 // 페이지 크기에 맞추기
  function setFullHeight() {
    const vh = window.innerHeight * 0.01;
    document.documentElement.style.setProperty('--vh', `${vh}px`);
  }

  window.addEventListener('resize', setFullHeight);
  window.addEventListener('load', setFullHeight);


// 갤럭시 화면 튐 방지
  function setVhUnit() {
    let vh = window.innerHeight * 0.01;
    document.documentElement.style.setProperty('--vh', `${vh}px`);
  }

  window.addEventListener('resize', setVhUnit);
  window.addEventListener('load', setVhUnit);

// <head> 안이나 DOMContentLoaded 이후 실행 - 페이지 화면 계산 후 넣기
let vh = window.innerHeight * 0.01;
document.documentElement.style.setProperty('--vh', `${vh}px`);

</script>

</head>


<body>

<!-- 노래 -->
 <audio id="bgm" loop>
  <source src="music/weddingmusic.mp3" type="audio/mpeg" />
</audio>

<script>

  // 스크롤하면 음악 재생
  window.addEventListener('scroll', () => {
    const bgm = document.getElementById('bgm');
    if (bgm.paused) {
      bgm.play().catch(err => console.log('음악 재생 실패:', err));
    }
  }, { once: true });
</script>

<!-------------- page 0 메인 --------------------->

  <section class="page page0">
    <div class="page-inner">
      <div class="border-outer">
        <div class="border-inner">
          <img src="images/couple-photo.jpg" alt="커플 사진" class="couple-photo" />
        </div>
      </div>
        <h1 class="page0-name">
        김진섭 <span class="amp">&</span> 송송이
        </h1>
    </div>
  </section>

<!-------------- page 1 결혼 날짜 --------------------->
<section class="page page1">
  <div class="page-inner page1-inner">
    <h2 class="wedding-notice">결혼합니다</h2>
    <div class="wedding-date">11월 9일<br><br>일요일 오후 1시<br>더엠컨벤션 9F 펠리시타홀</div>

  </div>
</section>

  <script src="script-weddingnotice.js"></script>



<!-------------- page 2 인사말 및 가족소개 --------------------->
  <section class="page page2">
    <div class="page-inner">
      <p class="greeting">
        두 사람이 하나가 되는 뜻깊은 날을 맞이하게 되었습니다.<br>
        그 새로운 시작의 순간, 귀한 걸음 하시어<br>
        가까이에서 축복해주시면 큰 기쁨으로 간직하겠습니다.
      </p>
      <div class="family-block">
        <div class="family-line">
          <span class="prefix">(故)</span>
          <span class="main-line">
            <span class="parents">송준천 ・ 도경순</span>
            <span class="relation">의 장녀</span>
            <span class="parents">송이</span>
          </span>
        </div>
        <div class="family-line">
          <span class="prefix"></span>
          <span class="main-line">
            <span class="parents">김영도 ・ 권혁자</span>
            <span class="relation">의 차남</span>
            <span class="parents">진섭</span>
          </span>
        </div>
      </div>
    </div>
  </section>


<!-------------- page 3 캘린더 --------------------->
<section class="page page3">
  <div class="page-inner">
    <div class="calendar-container">
      <div class="calendar-header">
        <div class="month-year">11</div>
      </div>
      
      <table class="calendar">
        <thead>
          <tr>
            <th>S</th><th>M</th><th>T</th><th>W</th><th>T</th><th>F</th><th>S</th>
          </tr>
        </thead>
            <tbody>
                <tr>
                    <td class="other-month">26</td>
                    <td class="other-month">27</td>
                    <td class="other-month">28</td>
                    <td class="other-month">29</td>
                    <td class="other-month">30</td>
                    <td class="other-month">31</td>
                    <td>1</td>
                </tr>
                <tr>
                    <td>2</td>
                    <td>3</td>
                    <td>4</td>
                    <td>5</td>
                    <td>6</td>
                    <td>7</td>
                    <td>8</td>
                </tr>
                <tr>
                    <td class="wedding-day">9</td>
                    <td>10</td>
                    <td>11</td>
                    <td>12</td>
                    <td>13</td>
                    <td>14</td>
                    <td>15</td>
                </tr>
                <tr>
                    <td>16</td>
                    <td>17</td>
                    <td>18</td>
                    <td>19</td>
                    <td>20</td>
                    <td>21</td>
                    <td>22</td>
                </tr>
                <tr>
                    <td>23</td>
                    <td>24</td>
                    <td>25</td>
                    <td>26</td>
                    <td>27</td>
                    <td>28</td>
                    <td>29</td>
                </tr>
                <tr>
                    <td>30</td>
                    <td class="other-month">1</td>
                    <td class="other-month">2</td>
                    <td class="other-month">3</td>
                    <td class="other-month">4</td>
                    <td class="other-month">5</td>
                    <td class="other-month">6</td>
                </tr>
            </tbody>
        </table>

      
      <div class="wedding-details">
        <!-- <h3>진섭 & 송이</h3> -->
        <p><span class="highlight-date">2025년 11월 9일</span></p>
        <p>일요일 오후 1시</p>
      </div>
    </div>
  </div>
</section>


<!-------------- page 4 오시는 길 --------------------->

<section class="page page4">
        <div class="page4-wrapper">
            <h2 class="section-title">오시는 길</h2>
            
            <div class="wedding-info">
                울산광역시 남구 삼산로 283<br>
                더엠컨벤션 9층 펠리시타홀
            </div>
            
            <div class="map-container">
                <div id="map-loading" class="map-loading">
                    <div class="loading-spinner"></div>
                    지도를 불러오는 중...
                </div>
                <div id="map" style="display: none;"></div>
            </div>
            
            <div class="route-section">
                <div class="route-btn-group">
                    <a href="https://map.kakao.com/link/to/더엠컨벤션,35.5486, 129.1392" 
                    target="_blank" class="route-btn">
                        <span>카카오 길찾기</span>
                    </a>

                    <a href="https://map.naver.com/p/search/%EB%8D%94%EC%97%A0%EC%BB%A8%EB%B2%A4%EC%85%98/place/1824752930" 
                    target="_blank" class="route-btn">
                        <span>네이버 길찾기</span>
                    </a>
                </div>
                
                <div class="bus-info">
                    <h3>대절 버스</h3>
                    <p>
                        제천시 보건소에서 출발합니다. (의림대로 242)<br>
                        출발: 오전 8시 30분 / 도착: 오후 6시<br>
                    </p>
                </div>
            </div>
        </div>
    </section>

    <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=1b87979187b428de05949b9a77ffb0fe"></script>
    <script>
        // 지도 초기화 함수
        function initializeMap() {
            const mapContainer = document.getElementById('map');
            mapContainer.style.display = 'block'; // 부모가 보이도록
            const mapLoading = document.getElementById('map-loading');
            
            const mapOption = {
                center: new kakao.maps.LatLng(35.5486, 129.1392), // 지도의 중심 좌표
                level: 4
            };

            try {
                const map = new kakao.maps.Map(mapContainer, mapOption);
                map.relayout(); // 부모 크기를 재인식
                map.setCenter(new kakao.maps.LatLng(35.5486, 129.1392)); // 중심 좌표 재설정

                // 마커 위치
                const position = new kakao.maps.LatLng(35.5486, 129.1392);
                
                // 마커 생성
                const marker = new kakao.maps.Marker({
                    position: position
                });
                
                marker.setMap(map);


                // 로딩 완료 후 지도 표시
                mapLoading.style.display = 'none';
                mapContainer.style.display = 'block';
                
                // 지도 크기 재조정
                setTimeout(() => {
                    map.relayout();
                }, 100);
                
            } catch (error) {
                console.error('지도 로딩 중 오류 발생:', error);
                mapLoading.innerHTML = `
                    <div style="text-align: center; color: #000; font-weight: 300;">
                        <div>지도를 불러올 수 없습니다</div>
                        <div style="font-size: 0.9rem; margin-top: 8px;">
                            길찾기 버튼을 이용해주세요
                        </div>
                    </div>
                `;
            }
        }
// 카카오맵 API 로드 완료 후 지도 초기화
        if (typeof kakao !== 'undefined' && kakao.maps) {
            kakao.maps.load(initializeMap);
        } else {
            document.getElementById('map-loading').innerHTML = `
                <div style="text-align: center; color: #000; font-weight: 300;">
                    <div>지도 서비스를 불러올 수 없습니다</div>
                    <div style="font-size: 0.9rem; margin-top: 8px;">
                        길찾기 버튼을 이용해주세요
                    </div>
                </div>
            `;
        }
// 페이지 로드 완료 후 부드러운 스크롤 활성화
        document.addEventListener('DOMContentLoaded', function() {
            // 외부 링크 클릭 시 부드러운 피드백 
            const routeBtns = document.querySelectorAll('.route-btn');
            routeBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    this.style.transform = 'scale(0.98)';
                    setTimeout(() => {
                        this.style.transform = '';
                    }, 150);
                });
            });
        });
    </script>

<!-------------- page 5 갤러리 --------------------->

<section class="page page5">
  <div class="page-inner">
    <h2 class="section-title5">Gallery</h2>
    <div class="insta-gallery">
      <img src="images/gallery1.jpg" alt="사진 1">
      <img src="images/gallery2.jpg" alt="사진 2">
      <img src="images/gallery3.jpg" alt="사진 3">
      <img src="images/gallery4.jpg" alt="사진 4">
      <img src="images/gallery5.jpg" alt="사진 5">
      <img src="images/gallery6.jpg" alt="사진 6">
    </div>
  </div>
</section>

<!-- 라이트 박스 -->

<div id="lightbox" class="lightbox">
  <span class="close">&times;</span>
  <img class="lightbox-content" id="lightbox-img" alt="확대 이미지">
</div>

<script>
 // 갤러리 라이트박스 스크립트
const galleryImages = document.querySelectorAll('.insta-gallery img');
const lightbox = document.querySelector('.lightbox');
const lightboxImg = document.querySelector('.lightbox-content');
const closeBtn = document.querySelector('.lightbox .close');

galleryImages.forEach(img => {
    img.addEventListener('click', () => {
        lightbox.style.display = 'flex';
        lightboxImg.src = img.src;
    });
});

closeBtn.addEventListener('click', () => {
    lightbox.style.display = 'none';
});

lightbox.addEventListener('click', e => {
    if(e.target === lightbox) lightbox.style.display = 'none';
});

</script>



<!-------------- page 6 마음 전할 곳 --------------------->

<section class="page page6">
  <div class="page-inner">
    <div class="page6-wrapper">
      <h2 class="section-title">마음 전할 곳</h2>
      <p class="page6-note">
        결혼식에 직접 참석하기 어려우신 분들을 위해<br> 
        따뜻한 마음을 전하실 수 있는 계좌 안내입니다.
      </p>

          <!-- 신랑 본인 -->
      <div class="account-box">
        <div class="page6-name" onclick="toggleAccount(this)">김진섭</div>
        <div class="account-info">
          <div class="account-details">
            <span class="account-number">국민 613402-04-143936</span>
            <button class="copy-btn" onclick="copyAccount(event, '국민 61340204143936')">복사</button>
          </div>
        </div>
      </div>

      <!-- 신랑측 아버지 -->
      <div class="account-box">
        <div class="page6-name" onclick="toggleAccount(this)">김영도</div>
        <div class="account-info">
          <div class="account-details">
            <span class="account-number">하나 161-18-22890-5</span>
            <button class="copy-btn" onclick="copyAccount(event, '하나 16118228905')">복사</button>
          </div>
        </div>
      </div>

      <!-- 신랑측 어머니 -->
      <div class="account-box">
        <div class="page6-name" onclick="toggleAccount(this)">권혁자</div>
        <div class="account-info">
          <div class="account-details">
            <span class="account-number">농협 8150-8456-3659-33</span>
            <button class="copy-btn" onclick="copyAccount(event, '농협 81508456365933')">복사</button>
          </div>
        </div>
      </div>

      <!-- 신부 본인 -->
      <div class="account-box">
        <div class="page6-name" onclick="toggleAccount(this)">송송이</div>
        <div class="account-info">
          <div class="account-details">
            <span class="account-number">신한 110-318-520610</span>
            <button class="copy-btn" onclick="copyAccount(event, '신한 110318520610')">복사</button>
          </div>
        </div>
      </div>

      <!-- 신부측 어머니 -->
      <div class="account-box">
        <div class="page6-name" onclick="toggleAccount(this)">도경순</div>
        <div class="account-info">
          <div class="account-details">
            <span class="account-number">우리 456-7890-1234-56</span>
            <button class="copy-btn" onclick="copyAccount(event, '우리 456-7890-1234-56')">복사</button>
          </div>
        </div>
      </div>
    </div>


    <div class="copy-notification" id="copyNotification">
      계좌번호가 복사되었습니다
    </div>
  </div>

</section>


  <script src="script-account.js"></script>


</body>
</html>

